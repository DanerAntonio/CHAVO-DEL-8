<!doctype html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Gestión de Roles</title>
    <link rel="shortcut icon" type="image/png" href="../assets/images/logos/favicon.png" />
    <link rel="stylesheet" href="../assets/css/styles.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/themify-icons/0.1.2/css/themify-icons.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <link rel="stylesheet" href="../assets/css/GestionRoles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>

<body>
    <!-- Body Wrapper -->
    <div class="page-wrapper" id="main-wrapper" data-layout="vertical" data-navbarbg="skin6" data-sidebartype="full"
        data-sidebar-position="fixed" data-header-position="fixed">

        <!-- Sidebar Start -->
        <aside class="left-sidebar">
            <!-- Sidebar scroll-->
            <div>
                <div class="brand-logo d-flex align-items-center justify-content-between">
                    <a href="./index.html" class="text-nowrap logo-img">
                        <img src="../assets/images/logos/dark-logo.svg" width="180" alt="" />
                    </a>
                    <div class="close-btn d-xl-none d-block sidebartoggler cursor-pointer" id="sidebarCollapse">
                        <i class="ti ti-x fs-8"></i>
                    </div>
                </div>
                <!-- Sidebar navigation-->
                <nav class="sidebar-nav scroll-sidebar" data-simplebar="">
                  <ul id="sidebarnav">
                    <li class="nav-small-cap">
                      <i class="ti ti-menu-2 nav-small-cap-icon fs-4"></i>
                      <span class="hide-menu">Menu Principal</span>
                    </li>
                    <li class="sidebar-item">
                      <a class="sidebar-link" href="index.html">
                        <span>
                          <i class="ti ti-home" aria-label="Inicio"></i>
                        </span>
                        <span class="hide-menu">Inicio</span>
                      </a>
                    </li>
                    <li><hr /></li>
                    <!-- Dashboard -->
                    <li class="sidebar-item">
                      <a class="sidebar-link has-arrow" href="#dashboardSubmenu" data-bs-toggle="collapse" aria-expanded="false">
                        <span>
                          <i class="ti ti-dashboard"></i>
                        </span>
                        <span class="hide-menu">Dashboard</span>
                      </a>
                      <ul id="dashboardSubmenu" class="collapse first-level">
                        <li class="sidebar-item">
                          <a href="GestionDesempeno.html" class="sidebar-link">
                            <i class="ti ti-chart-bar"></i>
                            <span class="hide-menu">Gestión De Desempeño</span>
                          </a>
                        </li>
                      </ul>
                    </li>
                    <li><hr /></li>
                    <!-- Configuración -->
                    <li class="sidebar-item">
                      <a class="sidebar-link has-arrow" href="#configSubmenu" data-bs-toggle="collapse" aria-expanded="false">
                        <span>
                          <i class="ti ti-settings"></i>
                        </span>
                        <span class="hide-menu">Configuración</span>
                      </a>
                      <ul id="configSubmenu" class="collapse first-level">
                        <li class="sidebar-item">
                          <a href="GestiónDeRoles.html" class="sidebar-link">
                            <i class="ti ti-user-check"></i>
                            <span class="hide-menu">Gestión De Roles</span>
                          </a>
                        </li>
                      </ul>
                    </li>
                    <li><hr /></li>
                    <!-- Usuarios -->
                    <li class="sidebar-item">
                      <a class="sidebar-link has-arrow" href="#userSubmenu" data-bs-toggle="collapse" aria-expanded="false">
                        <span>
                          <i class="ti ti-users"></i>
                        </span>
                        <span class="hide-menu">Usuarios</span>
                      </a>
                      <ul id="userSubmenu" class="collapse first-level">
                        <li class="sidebar-item">
                          <a href="GestiónDeUsuarios.html" class="sidebar-link">
                            <i class="ti ti-user-plus"></i>
                            <span class="hide-menu">Gestión De Usuarios</span>
                          </a>
                        </li>
                        <li class="sidebar-item">
                          <a href="GestiónDeAcceso.html" class="sidebar-link">
                            <i class="ti ti-lock"></i>
                            <span class="hide-menu">Gestión De Acceso</span>
                          </a>
                        </li>
                      </ul>
                    </li>
                    <li><hr /></li>
                    <!-- Categorías -->
                    <li class="sidebar-item">
                      <a class="sidebar-link has-arrow" href="#categoriasSubmenu" data-bs-toggle="collapse" aria-expanded="false">
                        <span>
                          <i class="ti ti-category"></i>
                        </span>
                        <span class="hide-menu">Categorías</span>
                      </a>
                      <ul id="categoriasSubmenu" class="collapse first-level">
                        <li class="sidebar-item">
                          <a href="CategoriasProductos.html" class="sidebar-link">
                            <i class="ti ti-box"></i>
                            <span class="hide-menu">Categorías De Productos</span>
                          </a>
                        </li>
                      </ul>
                    </li>
                    <li><hr /></li>
                    <!-- Compras -->
                    <li class="sidebar-item">
                      <a class="sidebar-link has-arrow" href="#comprasSubmenu" data-bs-toggle="collapse" aria-expanded="false">
                        <span>
                          <i class="ti ti-shopping-cart"></i>
                        </span>
                        <span class="hide-menu">Compras</span>
                      </a>
                      <ul id="comprasSubmenu" class="collapse first-level">
                        <li class="sidebar-item">
                          <a href="GDeProductos.html" class="sidebar-link">
                            <i class="ti ti-package"></i>
                            <span class="hide-menu">Gestión De Productos</span>
                          </a>
                        </li>
                        <li class="sidebar-item">
                          <a href="GDeProveedores.html" class="sidebar-link">
                            <i class="ti ti-truck-delivery"></i>
                            <span class="hide-menu">Gestión De Proveedores</span>
                          </a>
                        </li>
                        <li class="sidebar-item">
                          <a href="GDeCompras.html" class="sidebar-link">
                            <i class="ti ti-receipt"></i>
                            <span class="hide-menu">Gestión De Compras</span>
                          </a>
                        </li>
                      </ul>
                    </li>
                    <li><hr /></li>
                    <!-- Ventas -->
                    <li class="sidebar-item">
                      <a class="sidebar-link has-arrow" href="#ventasSubmenu" data-bs-toggle="collapse" aria-expanded="false">
                        <span>
                          <i class="ti ti-cash"></i>
                        </span>
                        <span class="hide-menu">Ventas</span>
                      </a>
                      <ul id="ventasSubmenu" class="collapse first-level">
                        <li class="sidebar-item">
                          <a href="GDeClientes.html" class="sidebar-link">
                            <i class="ti ti-user-circle"></i>
                            <span class="hide-menu">Gestión De Clientes</span>
                          </a>
                        </li>
                        <li class="sidebar-item">
                          <a href="GDePedidos.html" class="sidebar-link">
                            <i class="ti ti-clipboard-list"></i>
                            <span class="hide-menu">Gestión De Pedidos</span>
                          </a>
                        </li>
                        <li class="sidebar-item">
                          <a href="GDeVentas.html" class="sidebar-link">
                            <i class="ti ti-report-money"></i>
                            <span class="hide-menu">Gestión De Ventas</span>
                          </a>
                        </li>
                        <li class="sidebar-item">
                          <a href="GDeDevoluciones.html" class="sidebar-link">
                            <i class="ti ti-arrow-back-up"></i>
                            <span class="hide-menu">Devoluciones</span>
                          </a>
                        </li>
                        <li class="sidebar-item">
                          <a href="GDeFacturas.html" class="sidebar-link">
                            <i class="ti ti-file-invoice"></i>
                            <span class="hide-menu">Facturas</span>
                          </a>
                        </li>
                      </ul>
                    </li>
                    <li><hr /></li>
                    <!-- Reportes -->
                    <li class="sidebar-item">
                      <a class="sidebar-link" href="reportes.html">
                        <span>
                          <i class="ti ti-file-report"></i>
                        </span>
                        <span class="hide-menu">Reportes</span>
                      </a>
                    </li>
                  </ul>
                </nav>
                <!-- End Sidebar navigation -->
            </div>
            <!-- End Sidebar scroll-->
        </aside>
        <!-- Sidebar End -->

   !-- Main Wrapper -->
<div class="body-wrapper">
    <div class="container mt-5">
        <h2 class="text-3xl font-bold mb-4">Gestión de Roles</h2>
        <button class="btn btn-success mb-4" onclick="downloadExcel()">Descargar Excel</button>

        <!-- Formulario para Crear/Modificar Roles -->
        <div class="card mb-4">
            <div class="card-body">
                <form id="roleForm">
                    <div class="mb-3">
                        <label for="roleName" class="form-label">Nombre del Rol</label>
                        <input type="text" class="form-control" id="roleName" placeholder="Ingrese el nombre del rol" required>
                    </div>
                    <div class="mb-3">
                        <label for="roleState" class="form-label">Estado del Rol</label>
                        <select class="form-control" id="roleState" required>
                            <option value="activo">Activo</option>
                            <option value="inactivo">Inactivo</option>
                        </select>
                        <div class="container mt-4">
                          <h1 class="mb-4 text-center">Gestión de Roles</h1>
                          <form id="roleForm">
                              <!-- Otros campos de formulario aquí -->
                      
                              <div class="d-flex justify-content-between mb-3">
                                  <button type="button" class="btn btn-warning me-2" data-bs-toggle="modal" data-bs-target="#permissionsModal">Administrar Permisos</button>
                                  <button type="submit" class="btn btn-primary" id="submitButton">Crear Rol</button>
                              </div>
                          </form>
                      </div>
                      

        <!-- Modal para Permisos -->
        <div class="modal fade" id="permissionsModal" tabindex="-1" aria-labelledby="permissionsModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="permissionsModalLabel">Gestión de Permisos</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="mb-4">
                            <input type="text" id="search" class="form-control" placeholder="Buscar módulo o permiso">
                            <button type="button" id="searchBtn" class="btn btn-primary mt-2">Buscar</button>
                        </div>
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>Permiso/Módulo</th>
                                    <th>Crear</th>
                                    <th>Modificar</th>
                                    <th>Cambiar estado</th>
                                    <th>Ver</th>
                                    <th>Eliminar</th>
                                    <th>Listar</th>
                                    <th>Buscar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Configuración: Gestión de Roles</td>
                                    <td><input type="checkbox" name="permiso" value="crearRol"></td>
                                    <td><input type="checkbox" name="permiso" value="modificarRol"></td>
                                    <td><input type="checkbox" name="permiso" value="cambiarEstadoRol"></td>
                                    <td><input type="checkbox" name="permiso" value="visualizarDetallesRol"></td>
                                    <td><input type="checkbox" name="permiso" value="eliminarRol"></td>
                                    <td><input type="checkbox" name="permiso" value="listarRoles"></td>
                                    <td><input type="checkbox" name="permiso" value="buscarRoles"></td>
                                </tr>
                                <tr>
                                    <td>Usuarios: Gestión de usuarios</td>
                                    <td><input type="checkbox" name="permiso" value="crearUsuario"></td>
                                    <td><input type="checkbox" name="permiso" value="modificarUsuario"></td>
                                    <td><input type="checkbox" name="permiso" value="cambiarEstadoUsuario"></td>
                                    <td><input type="checkbox" name="permiso" value="visualizarDetallesUsuario"></td>
                                    <td><input type="checkbox" name="permiso" value="eliminarUsuario"></td>
                                    <td><input type="checkbox" name="permiso" value="listarUsuarios"></td>
                                    <td><input type="checkbox" name="permiso" value="buscarUsuarios"></td>
                                </tr>
                                <tr>
                                    <td>Usuarios: Gestión de acceso</td>
                                    <td><input type="checkbox" name="permiso" value="crearAcceso"></td>
                                    <td><input type="checkbox" name="permiso" value="modificarAcceso"></td>
                                    <td><input type="checkbox" name="permiso" value="cambiarEstadoAcceso"></td>
                                    <td><input type="checkbox" name="permiso" value="visualizarAcceso"></td>
                                    <td><input type="checkbox" name="permiso" value="eliminarAcceso"></td>
                                    <td><input type="checkbox" name="permiso" value="listarAcceso"></td>
                                    <td><input type="checkbox" name="permiso" value="buscarAcceso"></td>
                                </tr>
                                <tr>
                                    <td>Compras: Gestión de productos</td>
                                    <td><input type="checkbox" name="permiso" value="crearProducto"></td>
                                    <td><input type="checkbox" name="permiso" value="modificarProducto"></td>
                                    <td><input type="checkbox" name="permiso" value="cambiarEstadoProducto"></td>
                                    <td><input type="checkbox" name="permiso" value="visualizarProducto"></td>
                                    <td><input type="checkbox" name="permiso" value="eliminarProducto"></td>
                                    <td><input type="checkbox" name="permiso" value="listarProductos"></td>
                                    <td><input type="checkbox" name="permiso" value="buscarProducto"></td>
                                </tr>
                                <tr>
                                    <td>Compras: Gestión de proveedores</td>
                                    <td><input type="checkbox" name="permiso" value="crearProveedor"></td>
                                    <td><input type="checkbox" name="permiso" value="modificarProveedor"></td>
                                    <td><input type="checkbox" name="permiso" value="cambiarEstadoProveedor"></td>
                                    <td><input type="checkbox" name="permiso" value="visualizarProveedor"></td>
                                    <td><input type="checkbox" name="permiso" value="eliminarProveedor"></td>
                                    <td><input type="checkbox" name="permiso" value="listarProveedores"></td>
                                    <td><input type="checkbox" name="permiso" value="buscarProveedor"></td>
                                </tr>
                                <tr>
                                    <td>Compras: Gestión de compras</td>
                                    <td><input type="checkbox" name="permiso" value="crearCompra"></td>
                                    <td><input type="checkbox" name="permiso" value="modificarCompra"></td>
                                    <td><input type="checkbox" name="permiso" value="cambiarEstadoCompra"></td>
                                    <td><input type="checkbox" name="permiso" value="visualizarCompra"></td>
                                    <td><input type="checkbox" name="permiso" value="eliminarCompra"></td>
                                    <td><input type="checkbox" name="permiso" value="listarCompras"></td>
                                    <td><input type="checkbox" name="permiso" value="buscarCompra"></td>
                                </tr>
                                <tr>
                                    <td>Ventas: Gestión de clientes</td>
                                    <td><input type="checkbox" name="permiso" value="crearCliente"></td>
                                    <td><input type="checkbox" name="permiso" value="modificarCliente"></td>
                                    <td><input type="checkbox" name="permiso" value="cambiarEstadoCliente"></td>
                                    <td><input type="checkbox" name="permiso" value="visualizarCliente"></td>
                                    <td><input type="checkbox" name="permiso" value="eliminarCliente"></td>
                                    <td><input type="checkbox" name="permiso" value="listarClientes"></td>
                                    <td><input type="checkbox" name="permiso" value="buscarCliente"></td>
                                </tr>
                                  <tr>
                                      <td>Ventas: Gestión carrito de productos</td>
                                      <td><input type="checkbox" name="permiso" value="crearCarrito"></td>
                                      <td><input type="checkbox" name="permiso" value="modificarCarrito"></td>
                                      <td><input type="checkbox" name="permiso" value="cambiarEstadoCarrito"></td>
                                      <td><input type="checkbox" name="permiso" value="visualizarCarrito"></td>
                                      <td><input type="checkbox" name="permiso" value="eliminarCarrito"></td>
                                      <td><input type="checkbox" name="permiso" value="listarCarrito"></td>
                                      <td><input type="checkbox" name="permiso" value="buscarCarrito"></td>
                                  </tr>
                                  <tr>
                                    <td>Ventas: Gestión de pedidos</td>
                                    <td><input type="checkbox" name="permiso" value="crearRol"></td>
                                    <td><input type="checkbox" name="permiso" value="modificarRol"></td>
                                    <td><input type="checkbox" name="permiso" value="cambiarEstadoRol"></td>
                                    <td><input type="checkbox" name="permiso" value="visualizarDetallesRol"></td>
                                    <td><input type="checkbox" name="permiso" value="eliminarRol"></td>
                                    <td><input type="checkbox" name="permiso" value="listarRoles"></td>
                                    <td><input type="checkbox" name="permiso" value="buscarRoles"></td>
                                   
                                </tr>
                                <tr>
                                    <td>Ventas: Gestión de ventas</td>
                                    <td><input type="checkbox" name="permiso" value="crearRol"></td>
                                    <td><input type="checkbox" name="permiso" value="modificarRol"></td>
                                    <td><input type="checkbox" name="permiso" value="cambiarEstadoRol"></td>
                                    <td><input type="checkbox" name="permiso" value="visualizarDetallesRol"></td>
                                    <td><input type="checkbox" name="permiso" value="eliminarRol"></td>
                                    <td><input type="checkbox" name="permiso" value="listarRoles"></td>
                                    <td><input type="checkbox" name="permiso" value="buscarRoles"></td>
                                  
                                </tr>
                                <tr>
                                    <td>Ventas: Gestión de devoluciones</td>
                                    <td><input type="checkbox" name="permiso" value="crearRol"></td>
                                    <td><input type="checkbox" name="permiso" value="modificarRol"></td>
                                    <td><input type="checkbox" name="permiso" value="cambiarEstadoRol"></td>
                                    <td><input type="checkbox" name="permiso" value="visualizarDetallesRol"></td>
                                    <td><input type="checkbox" name="permiso" value="eliminarRol"></td>
                                    <td><input type="checkbox" name="permiso" value="listarRoles"></td>
                                    <td><input type="checkbox" name="permiso" value="buscarRoles"></td>
                                   
                                </tr>
                                
                              </tbody>
                          </table>
                      </div>
                      <div class="modal-footer">
                          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                          <button type="button" class="btn btn-primary" id="savePermissions">Guardar Permisos</button>
                      </div>
                  </div>
              </div>
          </div>

          <!-- Lista de Roles -->
          <div class="card mb-4">
              <div class="card-header">Lista de Roles</div>
              <div class="card-body">
                  <table class="table table-striped">
                      <thead>
                          <tr>
                              <th>Nombre del Rol</th>
                              <th>Estado</th>
                              <th>Acciones</th>
                          </tr>
                      </thead>
                      <tbody id="rolesList">
                          <!-- Aquí se cargan dinámicamente los roles -->
                      </tbody>
                  </table>
              </div>
          </div>
      </div>
  </div>
</div>

              
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>
    <script src="../assets/js/GestionRoles.js"></script>
</body>
</html>